{% extends "base.html" %}

{% block content %}
<div class="hero">
    <h1>ğŸ” Fiscaliza Vinhedo</h1>
    <p class="subtitle">Sistema de fiscalizaÃ§Ã£o de licitaÃ§Ãµes e compras pÃºblicas da Prefeitura de Vinhedo</p>
    
    <div class="stats-grid">
        <div class="stat-card">
            <h3 id="total-licitacoes">Carregando...</h3>
            <p>LicitaÃ§Ãµes Analisadas</p>
        </div>
        <div class="stat-card alert">
            <h3 id="total-alertas">Carregando...</h3>
            <p>Alertas de Irregularidades</p>
        </div>
        <div class="stat-card">
            <h3 id="economia-potencial">R$ 0,00</h3>
            <p>Economia Potencial Identificada</p>
        </div>
    </div>

    <div class="actions">
        <a href="/dashboard" class="btn btn-primary">Ver Dashboard</a>
        <a href="/comparador" class="btn btn-secondary">Comparar PreÃ§os</a>
        <a href="/alertas" class="btn btn-danger">Ver Alertas</a>
    </div>
</div>

<div class="features">
    <h2>Funcionalidades</h2>
    <div class="feature-grid">
        <div class="feature">
            <h3>ğŸ“Š AnÃ¡lise de LicitaÃ§Ãµes</h3>
            <p>Monitoramento completo das licitaÃ§Ãµes da prefeitura de Vinhedo</p>
        </div>
        <div class="feature">
            <h3>ğŸ’° ComparaÃ§Ã£o de PreÃ§os</h3>
            <p>Compare preÃ§os com outras prefeituras e identifique superfaturamento</p>
        </div>
        <div class="feature">
            <h3>ğŸš¨ Alertas AutomÃ¡ticos</h3>
            <p>DetecÃ§Ã£o automÃ¡tica de irregularidades e modalidades inadequadas</p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Carregar estatÃ­sticas iniciais
    fetch('/api/analise')
        .then(r => r.json())
        .then(data => {
            document.getElementById('total-licitacoes').textContent = data.total_licitacoes;
            document.getElementById('total-alertas').textContent = data.total_alertas;
        });
</script>
{% endblock %}
